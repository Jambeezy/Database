
=======
# Database

Веб-приложение для управления базой данных ответов с использованием Django и Google Cloud.

## Требования

- Python 3.8+
- Google Cloud Platform аккаунт
- Git

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/Jambeezy/Database.git
cd Database
```

2. Создайте виртуальное окружение:
```bash
python -m venv venv
```

3. Активируйте виртуальное окружение:

### Для Windows:
1. Откройте командную строку (cmd) или PowerShell
2. Перейдите в директорию проекта:
```bash
cd путь_к_проекту
```
3. Активируйте виртуальное окружение:
```bash
venv\Scripts\activate
```
После успешной активации вы увидите `(venv)` в начале строки командной оболочки.

### Для Linux/Mac:
1. Откройте терминал
2. Перейдите в директорию проекта:
```bash
cd путь_к_проекту
```
3. Активируйте виртуальное окружение:
```bash
source venv/bin/activate
```
После успешной активации вы увидите `(venv)` в начале строки командной оболочки.

### Проверка активации:
Чтобы убедиться, что виртуальное окружение активировано, выполните:
```bash
python -c "import sys; print(sys.prefix)"
```
Если путь указывает на директорию `venv`, значит окружение активировано правильно.

### Деактивация:
Для выхода из виртуального окружения выполните:
```bash
deactivate
```

4. Установите зависимости:
```bash
pip install -r requirements.txt
```

## Настройка Google Cloud

1. Создайте проект в Google Cloud Console
2. Включите API Google Sheets
3. Создайте сервисный аккаунт и скачайте JSON-файл с учетными данными
4. Поместите файл с учетными данными в папку `credentials/` и переименуйте его в `responses-database-457621-ec826ab19e7b.json`

## Настройка базы данных

1. Создайте базу данных в Google Sheets
2. Скопируйте ID таблицы из URL
3. Создайте файл `.env` в корневой директории проекта:
```
GOOGLE_SHEETS_ID=ваш_id_таблицы
```

## Запуск проекта

1. Примените миграции:
```bash
python manage.py migrate
```

2. Создайте суперпользователя:
```bash
python manage.py createsuperuser
```

3. Запустите сервер разработки:
```bash
python manage.py runserver

```

4. Откройте браузер и перейдите по адресу: http://127.0.0.1:8000/

## Структура проекта

- `apps/` - основные приложения Django
  - `core/` - базовые настройки и утилиты
  - `sheets/` - работа с Google Sheets
  - `users/` - управление пользователями
- `templates/` - HTML шаблоны
- `static/` - статические файлы (CSS, JS, изображения)
- `credentials/` - файлы с учетными данными (не включаются в репозиторий)

## Развертывание

Для развертывания на продакшн-сервере:

1. Настройте переменные окружения
2. Настройте веб-сервер (например, Nginx)
3. Настройте WSGI-сервер (например, Gunicorn)
4. Настройте SSL-сертификат

## Безопасность

- Храните секретные ключи в переменных окружения
- Не включайте файлы с учетными данными в репозиторий
- Используйте HTTPS в продакшн-окружении
- Регулярно обновляйте зависимости

## Лицензия

MIT
